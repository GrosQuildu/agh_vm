DEF MAIN 0
DECLARE ZMIENNA1
DECLARE ZMIENNA2

LOADV ZMIENNA1
LOAD 33
ASSIGN

# start thread without arguments
LOADF FUNKCJA_TESTOWA1
LOADT WATEK1
START

# start thread wit arguments
LOADF FUNKCJA_TESTOWA2
LOADT WATEK2
LOADV ZMIENNA1
LOAD 10
START

LOADF FUNKCJA_TESTOWA3
LOADT WATEK3
START


LOADT WATEK1
STOP

LOADT WATEK2
STOP

# send to non existing thread, should not block
LOADT NIEISTNIEJACY_WATEK
LOADV ZMIENNA1
SEND

# recv from thread, should block
LOADV ZMIENNA1
RECV

LOADV ZMIENNA1
PRINT

LOADV ZMIENNA1
RECV

LOADV ZMIENNA1
PRINT

LOADV ZMIENNA1
RECV

LOADV ZMIENNA1
PRINT

LOAD 0
RETURN
END